<!DOCTYPE html>
<html lang="en" class="gr__dl2_pushbulletusercontent_com">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>safety qr code</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=montserrat:200,300,400,500,700,900|open-sans:300,400,500,800"
        rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/jsbarcode/3.6.0/JsBarcode.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body data-gr-c-s-loaded="true" class="body">
    <div class="print-hide top-div">
        <input type="number" id="pageStart" min="1" placeholder="Page Start">
        <input type="number" id="pageEnd" min="1" placeholder="Page End">
        <button onclick="onButtonClick()" class="create-btn">Create Codes</button>
    </div>
    <div id="body">
    </div>
    <!-- <div id="qr-page" class="a4-page">
    </div>
    <div id="qr-page2" class="a4-page">
    </div>
    <div id="qr-page3" class="a4-page">
    </div> -->
    <!-- <p class="print-hide"> <button onclick="window.print()">Download/Print</button> </p> -->
    <!-- <script type="text/javascript">
        const params = new URLSearchParams(location.search);
        let qr_cards = '';
        let qr_body = document.getElementById("body");
        let qr_page = document.getElementById("qr-page");
        let qr_page2 = document.getElementById("qr-page2");
        let startIndex = params.get('startPage');
        let endIndex = params.get('endPage');
        let qrPage = '';
        let pageIndex = startIndex;
        let qrNumber = 100 + ((startIndex * 9) - 9);
        let qrIds = [];
        createPage();
        function createPage() {
            for (let i = startIndex; i <= endIndex; i++) {
                qrPage = qrPage + `<div id="qrpage-${i}" class="a4-page">${i}</div>`;
            }
            //qrPage = qrPage + `<p class="print-hide"> <button onclick="window.print()">Download/Print</button> </p>`;
            qr_body.innerHTML = qrPage;
            addQrCards();
        }
        function addQrCards() {
            let qrStartIndex = ((startIndex - 1) * 9) + 1;
            let qrEndIndex = endIndex * 9;
            console.log('qrStartIndex', qrStartIndex);
            console.log('qrEndIndex', qrEndIndex);
            for (let i = qrStartIndex; i <= qrEndIndex; i++) {
                qrNumber++;
                const randomString = Math.random().toString(36).substring(2, 20);
                let qID = randomString + qrNumber;
                qrIds.push(qID);
                //console.log(qID);
                let qrId = "https://surkshacode.com/safetycode/" + qID;
                qr_cards = qr_cards + `<div class="card-container"> <div class="image-holder"> <img src="./qrcodebg.jpg" alt=""> </div> <div class="card-content"> <div class="qr-code" id="qrcode-${i}" qr-id="${qrId}"></div> </div> </div>`
                if (i % 9 == 0) {
                    setQrCards(pageIndex, i, qr_cards)
                    pageIndex++;
                }
            }
            console.log('qrIds', qrIds);
        }

        function setQrCards(page, index, cards) {
            let p = document.getElementById("qrpage-" + page);
            p.innerHTML = cards;
            qr_cards = '';
            //setQrCodes(index - 8, index);
        }

        function setQrCodes(start, end) {
            for (let j = start; j <= end; j++) {
                let elem = document.getElementById("qrcode-" + j);
                if (!elem) {
                    continue;
                }
                let qrIdValue = elem.getAttribute("qr-id");
                if (!qrIdValue) {
                    continue;
                }
                new QRCode(elem, qrIdValue);
            }
        }

    </script> -->

    <script src="./script.js"></script>
</body>

</html>